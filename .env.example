# Azure AI Foundry Endpoint (required)
# Format: https://<resource>.services.ai.azure.com/api/projects/<projectName>
# Example: https://wkm-aif.services.ai.azure.com/api/projects/firstProject
# Get from Azure AI Foundry Portal -> Project Settings -> Endpoint
AZURE_ENDPOINT=your-azure-foundry-endpoint-here

# Azure AI Foundry API Key (required)
# Get from Azure AI Foundry Portal -> Project Settings -> Keys
AZURE_API_KEY=your-azure-api-key-here

# Model Deployment Name (required)
# The name of your model deployment in Azure AI Foundry
# Examples: gpt-4, gpt-4o, gpt-35-turbo, mistral-large, llama-3-70b
# This can be the actual model name since Foundry supports multiple models
AZURE_DEPLOYMENT_NAME=gpt-4

# Azure API Version (optional)
# Azure AI Foundry API version - use latest for best compatibility
# Default: 2024-08-01-preview
AZURE_API_VERSION=2024-08-01-preview

# OpenAI API Key (required for voice interface)
# Get your key at https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key-here

# Factory Configuration (optional)
FACTORY_NAME=Demo Factory
DATA_FILE=./data/production.json

# API Security Configuration (optional - PR7)
# Comma-separated list of allowed origins for CORS
# Default: http://localhost:3000,http://localhost:5173 (React dev servers)
# Production: https://your-frontend-domain.com
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate limiting for chat endpoint
# Format: number/timeunit (e.g., "10/minute", "100/hour", "1000/day")
# Default: 10/minute - prevents DoS attacks and excessive API costs
RATE_LIMIT_CHAT=10/minute

# Rate limiting for setup endpoint (data generation)
# Default: 5/minute - data generation is computationally expensive
RATE_LIMIT_SETUP=5/minute

# Environment Configuration (optional - PR8)
# Controls error message verbosity in API responses
# Development (DEBUG=true): Shows detailed error messages with stack traces
# Production (DEBUG=false): Shows generic error messages (recommended for security)
# Default: false (production mode)
DEBUG=false

# Azure Storage Configuration (optional - Phase 2)
# Azure Blob Storage connection string for cloud data persistence
# Get from Azure Portal -> Storage Account -> Access Keys -> Connection String
# Leave empty to use local JSON file storage (default for development)
AZURE_STORAGE_CONNECTION_STRING=

# Storage Mode (optional - Phase 2)
# Controls where production data is stored
# Options: "local" (uses DATA_FILE path) or "azure" (uses Azure Blob Storage)
# Default: local (no Azure setup required for development)
STORAGE_MODE=local

# Azure Blob Container Name (optional - Phase 2)
# Name of the blob container where production.json will be stored
# Default: factory-data
AZURE_BLOB_CONTAINER=factory-data

# Azure Blob Storage Retry Configuration (optional - PR22)
# Controls retry behavior for transient network failures with exponential backoff
# Retry total: Maximum number of retry attempts (default: 3)
# Initial backoff: Starting delay in seconds before first retry (default: 2)
# Increment base: Exponential multiplier for backoff delay (default: 2)
# Formula: delay = initial_backoff + (increment_base ** (retry_count - 1))
# Example with defaults: 2s, 4s, 8s delays between attempts
AZURE_BLOB_RETRY_TOTAL=3
AZURE_BLOB_INITIAL_BACKOFF=2
AZURE_BLOB_INCREMENT_BASE=2

# Azure Blob Storage Timeout Configuration (optional - PR22)
# Connection timeout: Seconds to wait for initial connection (default: 30)
# Operation timeout: Seconds to wait for upload/download to complete (default: 60)
# Adjust these values based on network speed and data size
AZURE_BLOB_CONNECTION_TIMEOUT=30
AZURE_BLOB_OPERATION_TIMEOUT=60

# Azure AD Authentication (optional - PR21)
# Required for admin operations (Generate New Data button)
# Get from Azure Portal -> Azure Active Directory -> App registrations
# Create a new app registration and copy these values:
# - Tenant ID: Directory (tenant) ID from app overview
# - Client ID: Application (client) ID from app overview
# Note: Authentication only required for POST /api/setup (all GET endpoints remain public)
AZURE_AD_TENANT_ID=your-tenant-id-here
AZURE_AD_CLIENT_ID=your-client-id-here
